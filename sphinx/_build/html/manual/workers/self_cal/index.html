

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>self_cal &mdash; Caracal  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="image_line" href="../image_line/index.html" />
    <link rel="prev" title="masking" href="../masking/index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../index.html">
          

          
            
            <img src="../../../_static/caracal_logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../caracalREADME.html">Download &amp; Install</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">Manual</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../intro/index.html">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../configfile/index.html">Configuration file</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../products/index.html">Data products</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reduction/index.html">Data reduction</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html">Workers parameters</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../general/index.html">general</a></li>
<li class="toctree-l3"><a class="reference internal" href="../get_data/index.html">get_data</a></li>
<li class="toctree-l3"><a class="reference internal" href="../observation_config/index.html">observation_config</a></li>
<li class="toctree-l3"><a class="reference internal" href="../prepare_data/index.html">prepare_data</a></li>
<li class="toctree-l3"><a class="reference internal" href="../flagging/index.html">flagging</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cross_cal/index.html">cross_cal</a></li>
<li class="toctree-l3"><a class="reference internal" href="../polcal/index.html">polcal</a></li>
<li class="toctree-l3"><a class="reference internal" href="../inspect_data/index.html">inspect_data</a></li>
<li class="toctree-l3"><a class="reference internal" href="../transform_data/index.html">transform_data</a></li>
<li class="toctree-l3"><a class="reference internal" href="../masking/index.html">masking</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">self_cal</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#enable"><strong>enable</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#label"><strong>label</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#calibrate-with"><strong>calibrate_with</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#spwid"><strong>spwid</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#ncpu"><strong>ncpu</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#minuvw-m"><strong>minuvw_m</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#img-npix"><strong>img_npix</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#img-padding"><strong>img_padding</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#img-mgain"><strong>img_mgain</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#img-cell"><strong>img_cell</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#img-weight"><strong>img_weight</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#img-robust"><strong>img_robust</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#img-uvtaper"><strong>img_uvtaper</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#img-niter"><strong>img_niter</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#img-nmiter"><strong>img_nmiter</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#img-cleanborder"><strong>img_cleanborder</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#img-nchans"><strong>img_nchans</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#img-joinchannels"><strong>img_joinchannels</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#img-fit-spectral-pol"><strong>img_fit_spectral_pol</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#img-pol"><strong>img_pol</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#img-multi-scale"><strong>img_multi_scale</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#img-multi-scale-scales"><strong>img_multi_scale_scales</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#cal-gain-amplitude-clip-low"><strong>cal_gain_amplitude_clip_low</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#cal-gain-amplitude-clip-high"><strong>cal_gain_amplitude_clip_high</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#cal-niter"><strong>cal_niter</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#start-at-iter"><strong>start_at_iter</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#cal-timeslots-chunk"><strong>cal_timeslots_chunk</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#cal-channel-chunk"><strong>cal_channel_chunk</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#aimfast"><strong>aimfast</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#image"><strong>image</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#extract-sources"><strong>extract_sources</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#calibrate"><strong>calibrate</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#restore-model"><strong>restore_model</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#flagging-summary"><strong>flagging_summary</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#transfer-apply-gains"><strong>transfer_apply_gains</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#transfer-model"><strong>transfer_model</strong></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../image_line/index.html">image_line</a></li>
<li class="toctree-l3"><a class="reference internal" href="../mosaic/index.html">mosaic</a></li>
<li class="toctree-l3"><a class="reference internal" href="../direction_dependent_calibration/index.html">direction_dependent_calibration</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../credits/index.html">Acknowledgements</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">Caracal</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../../index.html">Manual</a> &raquo;</li>
        
          <li><a href="../index.html">Workers parameters</a> &raquo;</li>
        
      <li>self_cal</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../../_sources/manual/workers/self_cal/index.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="self-cal">
<span id="id1"></span><h1>self_cal<a class="headerlink" href="#self-cal" title="Permalink to this headline">¶</a></h1>
<div class="toctree-wrapper compound">
</div>
<p>Perform Self calibration on the data</p>
<div class="section" id="enable">
<span id="self-cal-enable"></span><h2><strong>enable</strong><a class="headerlink" href="#enable" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p><em>bool</em></p>
<p>Execute this segment</p>
</div></blockquote>
</div>
<div class="section" id="label">
<span id="self-cal-label"></span><h2><strong>label</strong><a class="headerlink" href="#label" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p><em>str</em>, <em>optional</em>, <em>default = corr</em></p>
<p>Label of the .MS files to process</p>
</div></blockquote>
</div>
<div class="section" id="calibrate-with">
<span id="self-cal-calibrate-with"></span><h2><strong>calibrate_with</strong><a class="headerlink" href="#calibrate-with" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p><em>{“meqtrees”, “cubical”}</em>, <em>optional</em>, <em>default = cubical</em></p>
<p>Tool to use for calibration</p>
</div></blockquote>
</div>
<div class="section" id="spwid">
<span id="self-cal-spwid"></span><h2><strong>spwid</strong><a class="headerlink" href="#spwid" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p><em>int</em>, <em>optional</em>, <em>default = 0</em></p>
<p>Provide spectral window id</p>
</div></blockquote>
</div>
<div class="section" id="ncpu">
<span id="self-cal-ncpu"></span><h2><strong>ncpu</strong><a class="headerlink" href="#ncpu" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p><em>int</em>, <em>optional</em>, <em>default = 5</em></p>
<p>number of cpu’s to use</p>
</div></blockquote>
</div>
<div class="section" id="minuvw-m">
<span id="self-cal-minuvw-m"></span><h2><strong>minuvw_m</strong><a class="headerlink" href="#minuvw-m" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p><em>int</em>, <em>optional</em>, <em>default = 0</em></p>
<p>Exclude baselines shorter than this value (given in metres) from the imaging and selfcalibration loop.</p>
</div></blockquote>
</div>
<div class="section" id="img-npix">
<span id="self-cal-img-npix"></span><h2><strong>img_npix</strong><a class="headerlink" href="#img-npix" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p><em>int</em>, <em>optional</em>, <em>default = 1800</em></p>
<p>Number of pixels in output image</p>
</div></blockquote>
</div>
<div class="section" id="img-padding">
<span id="self-cal-img-padding"></span><h2><strong>img_padding</strong><a class="headerlink" href="#img-padding" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p><em>float</em>, <em>optional</em>, <em>default = 1.3</em></p>
<p>Padding in WSclean</p>
</div></blockquote>
</div>
<div class="section" id="img-mgain">
<span id="self-cal-img-mgain"></span><h2><strong>img_mgain</strong><a class="headerlink" href="#img-mgain" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p><em>float</em>, <em>optional</em>, <em>default = 0.90</em></p>
<p>Image CLEANing gain</p>
</div></blockquote>
</div>
<div class="section" id="img-cell">
<span id="self-cal-img-cell"></span><h2><strong>img_cell</strong><a class="headerlink" href="#img-cell" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p><em>float</em>, <em>optional</em>, <em>default = 2.</em></p>
<p>Image pixel size (arcsec)</p>
</div></blockquote>
</div>
<div class="section" id="img-weight">
<span id="self-cal-img-weight"></span><h2><strong>img_weight</strong><a class="headerlink" href="#img-weight" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p><em>{“briggs”, “uniform”, “natural”}</em>, <em>optional</em>, <em>default = briggs</em></p>
<p>Image weighting type. If Briggs, set the img robust parameter</p>
</div></blockquote>
</div>
<div class="section" id="img-robust">
<span id="self-cal-img-robust"></span><h2><strong>img_robust</strong><a class="headerlink" href="#img-robust" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p><em>float</em>, <em>optional</em>, <em>default = 0.</em></p>
<p>Briggs robust value</p>
</div></blockquote>
</div>
<div class="section" id="img-uvtaper">
<span id="self-cal-img-uvtaper"></span><h2><strong>img_uvtaper</strong><a class="headerlink" href="#img-uvtaper" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p><em>str</em>, <em>optional</em>, <em>default = 0</em></p>
<p>Taper for imaging (arcsec)</p>
</div></blockquote>
</div>
<div class="section" id="img-niter">
<span id="self-cal-img-niter"></span><h2><strong>img_niter</strong><a class="headerlink" href="#img-niter" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p><em>int</em>, <em>optional</em>, <em>default = 1000000</em></p>
<p>Number of cleaning iterations</p>
</div></blockquote>
</div>
<div class="section" id="img-nmiter">
<span id="self-cal-img-nmiter"></span><h2><strong>img_nmiter</strong><a class="headerlink" href="#img-nmiter" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p><em>int</em>, <em>optional</em>, <em>default = 0</em></p>
<p>Number of major cycles</p>
</div></blockquote>
</div>
<div class="section" id="img-cleanborder">
<span id="self-cal-img-cleanborder"></span><h2><strong>img_cleanborder</strong><a class="headerlink" href="#img-cleanborder" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p><em>float</em>, <em>optional</em>, <em>default = 1.3</em></p>
<p>Clean border</p>
</div></blockquote>
</div>
<div class="section" id="img-nchans">
<span id="self-cal-img-nchans"></span><h2><strong>img_nchans</strong><a class="headerlink" href="#img-nchans" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p><em>int</em>, <em>optional</em>, <em>default = 3</em></p>
<p>Number of channesls in output image</p>
</div></blockquote>
</div>
<div class="section" id="img-joinchannels">
<span id="self-cal-img-joinchannels"></span><h2><strong>img_joinchannels</strong><a class="headerlink" href="#img-joinchannels" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p><em>bool</em>, <em>optional</em>, <em>default = True</em></p>
<p>Join channels to create MFS image</p>
</div></blockquote>
</div>
<div class="section" id="img-fit-spectral-pol">
<span id="self-cal-img-fit-spectral-pol"></span><h2><strong>img_fit_spectral_pol</strong><a class="headerlink" href="#img-fit-spectral-pol" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p><em>int</em>, <em>optional</em>, <em>default = 2</em></p>
<p>Number of spectral polynomial terms to fit to each clean component. This is equal to the order of the polynomial plus 1.</p>
</div></blockquote>
</div>
<div class="section" id="img-pol">
<span id="self-cal-img-pol"></span><h2><strong>img_pol</strong><a class="headerlink" href="#img-pol" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p><em>str</em>, <em>optional</em>, <em>default = I</em></p>
<p>Stokes image to create</p>
</div></blockquote>
</div>
<div class="section" id="img-multi-scale">
<span id="self-cal-img-multi-scale"></span><h2><strong>img_multi_scale</strong><a class="headerlink" href="#img-multi-scale" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p><em>bool</em>, <em>optional</em>, <em>default = False</em></p>
<p>switch on multiscale cleaning</p>
</div></blockquote>
</div>
<div class="section" id="img-multi-scale-scales">
<span id="self-cal-img-multi-scale-scales"></span><h2><strong>img_multi_scale_scales</strong><a class="headerlink" href="#img-multi-scale-scales" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p><em>list</em> <em>of int</em>, <em>optional</em>, <em>default = 10, 20, 30</em></p>
<p>scales of multiscale [0,10,20,etc, etc] in pixels</p>
</div></blockquote>
</div>
<div class="section" id="cal-gain-amplitude-clip-low">
<span id="self-cal-cal-gain-amplitude-clip-low"></span><h2><strong>cal_gain_amplitude_clip_low</strong><a class="headerlink" href="#cal-gain-amplitude-clip-low" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p><em>float</em>, <em>optional</em>, <em>default = 0.5</em></p>
<p>Lower gain amplitude clipping</p>
</div></blockquote>
</div>
<div class="section" id="cal-gain-amplitude-clip-high">
<span id="self-cal-cal-gain-amplitude-clip-high"></span><h2><strong>cal_gain_amplitude_clip_high</strong><a class="headerlink" href="#cal-gain-amplitude-clip-high" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p><em>float</em>, <em>optional</em>, <em>default = 2.</em></p>
<p>Higher gain amplitude clipping</p>
</div></blockquote>
</div>
<div class="section" id="cal-niter">
<span id="self-cal-cal-niter"></span><h2><strong>cal_niter</strong><a class="headerlink" href="#cal-niter" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p><em>int</em>, <em>optional</em>, <em>default = 2</em></p>
<p>Number of self-calibration iterations to perform</p>
</div></blockquote>
</div>
<div class="section" id="start-at-iter">
<span id="self-cal-start-at-iter"></span><h2><strong>start_at_iter</strong><a class="headerlink" href="#start-at-iter" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p><em>int</em>, <em>optional</em>, <em>default = 1</em></p>
<p>Start self-cal iteration loop at this start value, 1-based.</p>
</div></blockquote>
</div>
<div class="section" id="cal-timeslots-chunk">
<span id="self-cal-cal-timeslots-chunk"></span><h2><strong>cal_timeslots_chunk</strong><a class="headerlink" href="#cal-timeslots-chunk" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p><em>int</em>, <em>optional</em>, <em>default = -1</em></p>
<p>Chunk data up by this number of timeslots. This limits the amount of data processed at once. Smaller chunks allow for a smaller RAM footprint and greater parallelism but sets an upper limit on the time solution intervals that may be employed. 0 means use full time axis but does not cross scan boundaries. -1 Uses largest solution interval</p>
</div></blockquote>
</div>
<div class="section" id="cal-channel-chunk">
<span id="self-cal-cal-channel-chunk"></span><h2><strong>cal_channel_chunk</strong><a class="headerlink" href="#cal-channel-chunk" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p><em>int</em>, <em>optional</em>, <em>default = -1</em></p>
<p>Chunk data up by this number of channels. This limits the amount of data processed at once. Smaller chunks allow for a smaller RAM footprint and greater parallelism but sets an upper limit on the frequency solution intervals that may be employed. 0 means use full frequency axis but does not cross SPW boundaries. -1 Uses largest solution interval</p>
</div></blockquote>
</div>
<div class="section" id="aimfast">
<span id="self-cal-aimfast"></span><h2><strong>aimfast</strong><a class="headerlink" href="#aimfast" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>Quality assessment parameter</p>
<p><strong>enable</strong></p>
<blockquote>
<div><p><em>bool</em>, <em>optional</em>, <em>default = False</em></p>
<p>Execute this segment</p>
</div></blockquote>
<p><strong>tolerance</strong></p>
<blockquote>
<div><p><em>float</em>, <em>optional</em>, <em>default = 0.02</em></p>
<p>Relative change in weighted mean of several indicators from aimfast.</p>
</div></blockquote>
<p><strong>convergence_criteria</strong></p>
<blockquote>
<div><p><em>list</em> <em>of str</em>, <em>optional</em>, <em>default = DR</em></p>
<p>The residual statistic to check convergence against. Every criterium listed will be combined into a weighted mean. Options [“DR”,”SKEW”,”KURT”,”STDDev”,”MEAN”]. Note that when calibrate model_mode = ‘vis_only’ DR is not an option.</p>
</div></blockquote>
<p><strong>area_factor</strong></p>
<blockquote>
<div><p><em>int</em>, <em>optional</em>, <em>default = 6</em></p>
<p>Peak flux source area multiplying factor i.e tot_area = psf-size*af</p>
</div></blockquote>
<p><strong>radius</strong></p>
<blockquote>
<div><p><em>float</em>, <em>optional</em>, <em>default = 0.6</em></p>
<p>Radius to cross-match sources in arcsec</p>
</div></blockquote>
<p><strong>normality_model</strong></p>
<blockquote>
<div><p><em>{“normaltest”, “shapiro”}</em>, <em>optional</em>, <em>default = normaltest</em></p>
<p>normality test model to use. Note that normaltest is the D’Agostino</p>
</div></blockquote>
<p><strong>plot</strong></p>
<blockquote>
<div><p><em>bool</em>, <em>optional</em>, <em>default = True</em></p>
<p>Generate html plots for comparing catalogs and residuals</p>
</div></blockquote>
</div></blockquote>
</div>
<div class="section" id="image">
<span id="self-cal-image"></span><h2><strong>image</strong><a class="headerlink" href="#image" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>Imaging parameter</p>
<p><strong>enable</strong></p>
<blockquote>
<div><p><em>bool</em>, <em>optional</em>, <em>default = True</em></p>
<p>Execute this segment</p>
</div></blockquote>
<p><strong>column</strong></p>
<blockquote>
<div><p><em>list</em> <em>of str</em>, <em>optional</em>, <em>default = DATA, CORRECTED_DATA</em></p>
<p>Column to image</p>
</div></blockquote>
<p><strong>clean_threshold</strong></p>
<blockquote>
<div><p><em>list</em> <em>of float</em>, <em>optional</em>, <em>default = 0.5, 0.5</em></p>
<p>WSclean clean threshold in units of the (local) noise.</p>
</div></blockquote>
<p><strong>clean_mask_method</strong></p>
<blockquote>
<div><p><em>list</em> <em>of str</em>, <em>optional</em>, <em>default = wsclean, wsclean</em></p>
<p>Method used to create the clean mask. The possible values are 1) “wsclean” to use WSclean’s auto-masking (threshold set by clean_mask_threshold below); 2) “sofia” to create a clean mask using SoFiA (threshold set by clean_mask_threshold below, and additional settings in sofia_settings); 3) a prefix string to use an existing .FITS mask located in output/masking and called prefix_target.fits, where the name of the target is set automatically by the pipeline. The latter .FITS mask could be the one created by the masking worker, in which case the prefix set here should correspond to label_out in the masking worker. Note that this third  maskingm ethod can be used on multiple targets in a single pipeline run as long as they all have a corresponding prefix_target.fits mask in output/masking.</p>
</div></blockquote>
<p><strong>clean_mask_threshold</strong></p>
<blockquote>
<div><p><em>list</em> <em>of float</em>, <em>optional</em>, <em>default = 10.0, 6.0</em></p>
<p>Threshold used to create the clean mask when clean_mask_method = wsclean or sofia, in units of the (local) noise.</p>
</div></blockquote>
<p><strong>clean_mask_local_rms</strong></p>
<blockquote>
<div><p><em>list</em> <em>of bool</em>, <em>optional</em>, <em>default = False, False</em></p>
<p>Use a local rms measurement when creating a clean mask with clean_mask_method = wsclean or sofia. If clean_mask_method = wsclean, this local_rms setting is used also for the clean_threshold above. Otherwise it is only used to define the clean mask, while clean_threshold is in units of the global noise.</p>
</div></blockquote>
<p><strong>clean_mask_local_rms_window</strong></p>
<blockquote>
<div><p><em>list</em> <em>of int</em>, <em>optional</em>, <em>default = 31, 31</em></p>
<p>Width of the window used to measure the local rms when creating the clean mask. The window width is in pixels for clean_mask_method = sofia, in PSF for clean_mask_method = wsclean.</p>
</div></blockquote>
<p><strong>sofia_settings</strong></p>
<blockquote>
<div><p>SoFiA source finder settings to produce a .FITS clean mask. The mask is located in output/masking.</p>
<p><strong>kernels</strong></p>
<blockquote>
<div><p><em>list</em> <em>of float</em>, <em>optional</em>, <em>default = 0., 3., 6., 9.</em></p>
<p>FWHM of spatial Gaussian kernels in pixels.</p>
</div></blockquote>
<p><strong>only_positive_pix</strong></p>
<blockquote>
<div><p><em>bool</em>, <em>optional</em>, <em>default = True</em></p>
<p>Merges only positive pixels of sources in mask</p>
</div></blockquote>
<p><strong>flag</strong></p>
<blockquote>
<div><p><em>bool</em>, <em>optional</em>, <em>default = False</em></p>
<p>Use flag regions (yes/no)?</p>
</div></blockquote>
<p><strong>flagregion</strong></p>
<blockquote>
<div><p><em>list</em> <em>of str</em>, <em>optional</em>, <em>default = ‘ ‘</em></p>
<p>Pixel/channel range(s) to be flagged prior to source finding. Format is [[x1, x2, y1, y2, z1, z2], …].</p>
</div></blockquote>
<p><strong>inputmask</strong></p>
<blockquote>
<div><p><em>str</em>, <em>optional</em>, <em>default = ‘ ‘</em></p>
<p>input mask over which add Sofia’s</p>
</div></blockquote>
<p><strong>fornax_special</strong></p>
<blockquote>
<div><p><em>bool</em>, <em>optional</em>, <em>default = False</em></p>
<p>Activates masking of Fornax A using Sofia</p>
</div></blockquote>
<p><strong>fornax_thresh</strong></p>
<blockquote>
<div><p><em>list</em> <em>of float</em>, <em>optional</em>, <em>default = 4.0</em></p>
<p>SoFiA source finding threshold. Default is 4.0.</p>
</div></blockquote>
<p><strong>fornax_use_sofia</strong></p>
<blockquote>
<div><p><em>bool</em>, <em>optional</em>, <em>default = False</em></p>
<p>use sofia for mask of Fornax A instead of Fomalont mask</p>
</div></blockquote>
</div></blockquote>
</div></blockquote>
</div>
<div class="section" id="extract-sources">
<span id="self-cal-extract-sources"></span><h2><strong>extract_sources</strong><a class="headerlink" href="#extract-sources" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>Source finding parameters</p>
<p><strong>enable</strong></p>
<blockquote>
<div><p><em>bool</em>, <em>optional</em>, <em>default = False</em></p>
<p>Execute this segment</p>
</div></blockquote>
<p><strong>sourcefinder</strong></p>
<blockquote>
<div><p><em>str</em>, <em>optional</em>, <em>default = pybdsm</em></p>
<p>choose your favorite sourcefinder pybdsm, (pybdsf), sofia</p>
</div></blockquote>
<p><strong>local_rms</strong></p>
<blockquote>
<div><p><em>bool</em>, <em>optional</em>, <em>default = False</em></p>
<p>Execute this segment</p>
</div></blockquote>
<p><strong>spi</strong></p>
<blockquote>
<div><p><em>bool</em>, <em>optional</em>, <em>default = False</em></p>
<p>Extract source spectral index</p>
</div></blockquote>
<p><strong>thresh_pix</strong></p>
<blockquote>
<div><p><em>list</em> <em>of int</em>, <em>optional</em>, <em>default = 5</em></p>
<p>Source finder pixel threshold</p>
</div></blockquote>
<p><strong>thresh_isl</strong></p>
<blockquote>
<div><p><em>list</em> <em>of int</em>, <em>optional</em>, <em>default = 3</em></p>
<p>Source finder island threshold</p>
</div></blockquote>
</div></blockquote>
</div>
<div class="section" id="calibrate">
<span id="self-cal-calibrate"></span><h2><strong>calibrate</strong><a class="headerlink" href="#calibrate" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>Calibration parameters</p>
<p><strong>enable</strong></p>
<blockquote>
<div><p><em>bool</em>, <em>optional</em>, <em>default = True</em></p>
<p>Execute this segment</p>
</div></blockquote>
<p><strong>model</strong></p>
<blockquote>
<div><p><em>list</em> <em>of str</em>, <em>optional</em>, <em>default = 1,2</em></p>
<p>Model number to use [or combination e.g. ‘1+2’ to use first and second models]</p>
</div></blockquote>
<p><strong>output_data</strong></p>
<blockquote>
<div><p><em>list</em> <em>of str</em>, <em>optional</em>, <em>default = CORR_DATA</em></p>
<p>Data to output after calibration</p>
</div></blockquote>
<p><strong>gain_matrix_type</strong></p>
<blockquote>
<div><p><em>list</em> <em>of str</em>, <em>optional</em>, <em>default = GainDiagPhase</em></p>
<p>Gain matrix type</p>
</div></blockquote>
<p><strong>model_mode</strong></p>
<blockquote>
<div><p><em>str</em>, <em>optional</em>, <em>default = vis_only</em></p>
<p>pybdsm_vis, pybdsm_only,  vis_only are the possible options</p>
</div></blockquote>
<p><strong>shared_memory</strong></p>
<blockquote>
<div><p><em>str</em>, <em>optional</em>, <em>default = 100Gb</em></p>
<p>Set the amount of shared memory for cubical. Default ‘100Gb’</p>
</div></blockquote>
<p><strong>two_step</strong></p>
<blockquote>
<div><p><em>bool</em>, <em>optional</em>, <em>default = False</em></p>
<p>Trigger a two step calibration process where the phase only calibration is applied before continuing with amplitude + phase cal. When cubical is used this happens simultaneous and gain parameters can be used with DDsols parameters. Set DDsol_time to -1 one to avoid amplitude calibration in an itereation. The parameter DDjones should be set to false.</p>
</div></blockquote>
<p><strong>add_vis_model</strong></p>
<blockquote>
<div><p><em>bool</em>, <em>optional</em>, <em>default = True</em></p>
<p>Add/Use clean components from latest imaging step to/as sky model for calibation</p>
</div></blockquote>
<p><strong>Gsols_timeslots</strong></p>
<blockquote>
<div><p><em>list</em> <em>of float</em>, <em>optional</em>, <em>default = 1</em></p>
<p>G-Jones time solution interval. The parameter cal_time_chunk above should a multiple of Gsols_time. 0 means a single solution for the full time chunk.</p>
</div></blockquote>
<p><strong>Gsols_channel</strong></p>
<blockquote>
<div><p><em>list</em> <em>of float</em>, <em>optional</em>, <em>default = 0</em></p>
<p>G-Jones frequency solution interval. The parameter cal_frq_chunk above should a multiple of Gsols_channel. 0 means a single solution for the full frequency chunk.</p>
</div></blockquote>
<p><strong>Bjones</strong></p>
<blockquote>
<div><p><em>bool</em>, <em>optional</em>, <em>default = False</em></p>
<p>Enable Bjones</p>
</div></blockquote>
<p><strong>Bsols_timeslots</strong></p>
<blockquote>
<div><p><em>list</em> <em>of int</em>, <em>optional</em>, <em>default = 0</em></p>
<p>Gsols for individual calibration steps, if not given will default to cal_Gsols</p>
</div></blockquote>
<p><strong>Bsols_channel</strong></p>
<blockquote>
<div><p><em>list</em> <em>of float</em>, <em>optional</em>, <em>default = 2</em></p>
<p>Gsols for individual calibration steps, if not given will default to cal_Gsols</p>
</div></blockquote>
<p><strong>DDjones</strong></p>
<blockquote>
<div><p><em>bool</em>, <em>optional</em>, <em>default = False</em></p>
<p>Enable direction dependent calibration, currently experimental.</p>
</div></blockquote>
<p><strong>DDsols_timeslots</strong></p>
<blockquote>
<div><p><em>list</em> <em>of float</em>, <em>optional</em>, <em>default = 0</em></p>
<p>Calibration solution intervals</p>
</div></blockquote>
<p><strong>DDsols_channel</strong></p>
<blockquote>
<div><p><em>list</em> <em>of float</em>, <em>optional</em>, <em>default = 0</em></p>
<p>Calibration solution intervals</p>
</div></blockquote>
<p><strong>weight_column</strong></p>
<blockquote>
<div><p><em>str</em>, <em>optional</em>, <em>default = WEIGHT</em></p>
<p>Column with weights</p>
</div></blockquote>
<p><strong>madmax_flagging</strong></p>
<blockquote>
<div><p><em>bool</em>, <em>optional</em>, <em>default = True</em></p>
<p>Flags based on maximum of mad</p>
</div></blockquote>
<p><strong>madmax_flag_thresh</strong></p>
<blockquote>
<div><p><em>list</em> <em>of int</em>, <em>optional</em>, <em>default = 0, 10</em></p>
<p>Threshold for madmax flagging</p>
</div></blockquote>
<p><strong>sol_term_iters</strong></p>
<blockquote>
<div><p><em>str</em>, <em>optional</em>, <em>default = auto</em></p>
<p>Number of iterations per Jones term. If set to ‘auto’, uses hardcoded iteration numbers depending on the jones chain.</p>
</div></blockquote>
<p><strong>dist_max_chunks</strong></p>
<blockquote>
<div><p><em>int</em>, <em>optional</em>, <em>default = 4</em></p>
<p>Maximum number of time/freq data-chunks to load into memory simultaneously. If 0, then as many as possible will be loaded.</p>
</div></blockquote>
<p><strong>ragavi_plot</strong></p>
<blockquote>
<div><p>Plotting dignostics plots for delay correction calibration.</p>
<p><strong>enable</strong></p>
<blockquote>
<div><p><em>bool</em>, <em>optional</em>, <em>default = False</em></p>
<p>Enables plotting dignostics</p>
</div></blockquote>
<p><strong>gaintype</strong></p>
<blockquote>
<div><p><em>list</em> <em>of str</em>, <em>optional</em>, <em>default = G</em></p>
<p>List of gain solution types</p>
</div></blockquote>
<p><strong>field</strong></p>
<blockquote>
<div><p><em>list</em> <em>of int</em>, <em>optional</em>, <em>default = 0</em></p>
<p>Fields to plot. Specify by field id, index.</p>
</div></blockquote>
</div></blockquote>
</div></blockquote>
</div>
<div class="section" id="restore-model">
<span id="self-cal-restore-model"></span><h2><strong>restore_model</strong><a class="headerlink" href="#restore-model" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>Restore modelled to final calibrated residual image</p>
<p><strong>enable</strong></p>
<blockquote>
<div><p><em>bool</em>, <em>optional</em>, <em>default = False</em></p>
<p>Execute this segment</p>
</div></blockquote>
<p><strong>model</strong></p>
<blockquote>
<div><p><em>str</em>, <em>optional</em>, <em>default = 1+2</em></p>
<p>Model number to use [or combination e.g. ‘1+2’ to use first and second models]</p>
</div></blockquote>
<p><strong>clean_model</strong></p>
<blockquote>
<div><p><em>str</em>, <em>optional</em>, <em>default = 3</em></p>
<p>Clean model number to use [or combination e.g. ‘1+2’ to use first and second models]</p>
</div></blockquote>
</div></blockquote>
</div>
<div class="section" id="flagging-summary">
<span id="self-cal-flagging-summary"></span><h2><strong>flagging_summary</strong><a class="headerlink" href="#flagging-summary" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>Output the flagging summary</p>
<p><strong>enable</strong></p>
<blockquote>
<div><p><em>bool</em>, <em>optional</em>, <em>default = False</em></p>
<p>Execute this segment</p>
</div></blockquote>
</div></blockquote>
</div>
<div class="section" id="transfer-apply-gains">
<span id="self-cal-transfer-apply-gains"></span><h2><strong>transfer_apply_gains</strong><a class="headerlink" href="#transfer-apply-gains" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>Interpolate gains over the high frequency resolution data</p>
<p><strong>enable</strong></p>
<blockquote>
<div><p><em>bool</em>, <em>optional</em>, <em>default = False</em></p>
<p>Execute this segment</p>
</div></blockquote>
<p><strong>transfer_to_label</strong></p>
<blockquote>
<div><p><em>str</em>, <em>optional</em>, <em>default = corr</em></p>
<p>label of cross-calibrated .ms file to which to transfer and apply the selfcal gains</p>
</div></blockquote>
<p><strong>interpolate</strong></p>
<blockquote>
<div><p>To interpolate the gains or not to interpolate the gains. That is indeed the question.</p>
<p><strong>enable</strong></p>
<blockquote>
<div><p><em>bool</em>, <em>optional</em>, <em>default = True</em></p>
<p>Enable gain interpolation.</p>
</div></blockquote>
<p><strong>timeslots_int</strong></p>
<blockquote>
<div><p><em>int</em>, <em>optional</em>, <em>default = -1</em></p>
<p>Solution interval in time (units of timeslots/intergration time) to transfer gains. -1 uses the solution interval from the calibration that is applied.</p>
</div></blockquote>
<p><strong>channel_int</strong></p>
<blockquote>
<div><p><em>int</em>, <em>optional</em>, <em>default = -1</em></p>
<p>Solution interval in frequency (units of channels) to transfer gains. -1 uses the solution interval from the calibration that is applied.</p>
</div></blockquote>
<p><strong>timeslots_chunk</strong></p>
<blockquote>
<div><p><em>int</em>, <em>optional</em>, <em>default = -1</em></p>
<p>Time chunk in units of timeslots for transferring gains with Cubical. -1 uses the solution interval from the calibration that is applied.</p>
</div></blockquote>
<p><strong>channel_chunk</strong></p>
<blockquote>
<div><p><em>int</em>, <em>optional</em>, <em>default = -1</em></p>
<p>Frequency chunk in units of channels for transferring gains with Cubical. ‘0’ means the whole spw. -1 uses the solution interval from the calibration that is applied.</p>
</div></blockquote>
</div></blockquote>
</div></blockquote>
</div>
<div class="section" id="transfer-model">
<span id="self-cal-transfer-model"></span><h2><strong>transfer_model</strong><a class="headerlink" href="#transfer-model" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>Transfer model from last WSclean imaging run to the MODEL_DATA column of another .MS</p>
<p><strong>enable</strong></p>
<blockquote>
<div><p><em>bool</em>, <em>optional</em>, <em>default = True</em></p>
<p>Execute this segment (default False)</p>
</div></blockquote>
<p><strong>transfer_to_label</strong></p>
<blockquote>
<div><p><em>str</em>, <em>optional</em>, <em>default = corr</em></p>
<p>label of .ms file to which to transfer the model</p>
</div></blockquote>
<p><strong>model</strong></p>
<blockquote>
<div><p><em>str</em>, <em>optional</em>, <em>default = auto</em></p>
<p>Name of the sky model file (currently the only supported format is that of WSclean component lists). When ‘auto’, the pipeline builds the file name from the input parameters of the selfcal loop. The file is assumed to be in the ‘output’ directory.</p>
</div></blockquote>
<p><strong>spectra</strong></p>
<blockquote>
<div><p><em>bool</em>, <em>optional</em>, <em>default = True</em></p>
<p>Model sources as non-flat spectra. The spectral coefficients and reference frequency must be present in the sky model.</p>
</div></blockquote>
<p><strong>row_chunks</strong></p>
<blockquote>
<div><p><em>int</em>, <em>optional</em>, <em>default = 0</em></p>
<p>Number of rows of input .MS that are processed in a single chunk.</p>
</div></blockquote>
<p><strong>model_chunks</strong></p>
<blockquote>
<div><p><em>int</em>, <em>optional</em>, <em>default = 0</em></p>
<p>Number of sky model components that are processed in a single chunk.</p>
</div></blockquote>
<p><strong>exp-sign-convention</strong></p>
<blockquote>
<div><p><em>str</em>, <em>optional</em>, <em>default = casa</em></p>
<p>Sign convention to use for the complex exponential. ‘casa’ specifies the e^(2.pi.I) convention while ‘thompson’ specifies the e^(-2.pi.I) convention in the white book and Fourier analysis literature. Defaults to ‘casa’.</p>
</div></blockquote>
<p><strong>within</strong></p>
<blockquote>
<div><p><em>str</em>, <em>optional</em>, <em>default = ‘ ‘</em></p>
<p>Give JS9 region file. Only sources within those regions will be included.</p>
</div></blockquote>
<p><strong>points_only</strong></p>
<blockquote>
<div><p><em>bool</em>, <em>optional</em>, <em>default = False</em></p>
<p>Select only point-only sources. Default is False.</p>
</div></blockquote>
<p><strong>num_sources</strong></p>
<blockquote>
<div><p><em>int</em>, <em>optional</em>, <em>default = 0</em></p>
<p>Select only N brightest sources. Default is 0</p>
</div></blockquote>
<p><strong>num_workers</strong></p>
<blockquote>
<div><p><em>int</em>, <em>optional</em>, <em>default = 0</em></p>
<p>Explicitly set the number of worker threads. Default is 0, meaning it uses all threads.</p>
</div></blockquote>
<p><strong>memory_fraction</strong></p>
<blockquote>
<div><p><em>float</em>, <em>optional</em>, <em>default = 0.5</em></p>
<p>Fraction of system RAM that can be used. Used when setting automatically the chunk size.</p>
</div></blockquote>
</div></blockquote>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../image_line/index.html" class="btn btn-neutral float-right" title="image_line" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../masking/index.html" class="btn btn-neutral float-left" title="masking" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Caracal team

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>