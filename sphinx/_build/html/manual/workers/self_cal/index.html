

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>self_cal &mdash; MeerKATHI  documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../../../genindex.html"/>
        <link rel="search" title="Search" href="../../../search.html"/>
    <link rel="top" title="MeerKATHI  documentation" href="../../../index.html"/>
        <link rel="up" title="Workers parameters" href="../index.html"/>
        <link rel="next" title="image_HI" href="../image_HI/index.html"/>
        <link rel="prev" title="masking" href="../masking/index.html"/> 

  
  <script src="../../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../../index.html" class="icon icon-home"> MeerKATHI
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../meerkathiREADME.html">Install</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../meerkathiREADME.html#download-install">Download &amp; Install</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">Manual</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../intro/index.html">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../configfile/index.html">Configuration file</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../products/index.html">Data products</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reduction/index.html">Data reduction</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html">Workers parameters</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../general/index.html">general</a></li>
<li class="toctree-l3"><a class="reference internal" href="../get_data/index.html">get_data</a></li>
<li class="toctree-l3"><a class="reference internal" href="../observation_config/index.html">observation_config</a></li>
<li class="toctree-l3"><a class="reference internal" href="../prepare_data/index.html">prepare_data</a></li>
<li class="toctree-l3"><a class="reference internal" href="../flagging/index.html">flagging</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cross_cal/index.html">cross_cal</a></li>
<li class="toctree-l3"><a class="reference internal" href="../polcal/index.html">polcal</a></li>
<li class="toctree-l3"><a class="reference internal" href="../inspect_data/index.html">inspect_data</a></li>
<li class="toctree-l3"><a class="reference internal" href="../split_target/index.html">split_target</a></li>
<li class="toctree-l3"><a class="reference internal" href="../masking/index.html">masking</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">self_cal</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#enable"><strong>enable</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#label"><strong>label</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#undo-subtractmodelcol"><strong>undo_subtractmodelcol</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#primary-beam"><strong>primary_beam</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#calibrate-with"><strong>calibrate_with</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#spwid"><strong>spwid</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#ncpu"><strong>ncpu</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#img-npix"><strong>img_npix</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#img-padding"><strong>img_padding</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#img-mgain"><strong>img_mgain</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#img-cell"><strong>img_cell</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#img-weight"><strong>img_weight</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#img-robust"><strong>img_robust</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#img-uvtaper"><strong>img_uvtaper</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#img-niter"><strong>img_niter</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#img-cleanborder"><strong>img_cleanborder</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#img-nchans"><strong>img_nchans</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#img-joinchannels"><strong>img_joinchannels</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#img-fit-spectral-pol"><strong>img_fit_spectral_pol</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#img-pol"><strong>img_pol</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#cal-gain-amplitude-clip-low"><strong>cal_gain_amplitude_clip_low</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#cal-gain-amplitude-clip-high"><strong>cal_gain_amplitude_clip_high</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#cal-niter"><strong>cal_niter</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#start-at-iter"><strong>start_at_iter</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#cal-time-chunk"><strong>cal_time_chunk</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#aimfast"><strong>aimfast</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#image"><strong>image</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sofia-mask"><strong>sofia_mask</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#extract-sources"><strong>extract_sources</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#calibrate"><strong>calibrate</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#restore-model"><strong>restore_model</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#flagging-summary"><strong>flagging_summary</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#transfer-apply-gains"><strong>transfer_apply_gains</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#transfer-model"><strong>transfer_model</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#highfreqres-contim"><strong>highfreqres_contim</strong></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../image_HI/index.html">image_HI</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../tutorial/index.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../credits/index.html">Acknowledgements</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../../index.html">MeerKATHI</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../../index.html">Docs</a> &raquo;</li>
      
          <li><a href="../../index.html">Manual</a> &raquo;</li>
      
          <li><a href="../index.html">Workers parameters</a> &raquo;</li>
      
    <li>self_cal</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../../_sources/manual/workers/self_cal/index.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="self-cal">
<span id="id1"></span><h1>self_cal<a class="headerlink" href="#self-cal" title="Permalink to this headline">¶</a></h1>
<div class="toctree-wrapper compound">
</div>
<p>Perform Self calibration on the data</p>
<div class="section" id="enable">
<span id="self-cal-enable"></span><h2><strong>enable</strong><a class="headerlink" href="#enable" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p><em>bool</em>, <em>optional</em></p>
<p>Execute this segment</p>
</div></blockquote>
</div>
<div class="section" id="label">
<span id="self-cal-label"></span><h2><strong>label</strong><a class="headerlink" href="#label" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p><em>str</em>, <em>optional</em></p>
<p>Label of the .MS files to process</p>
</div></blockquote>
</div>
<div class="section" id="undo-subtractmodelcol">
<span id="self-cal-undo-subtractmodelcol"></span><h2><strong>undo_subtractmodelcol</strong><a class="headerlink" href="#undo-subtractmodelcol" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p><em>bool</em>, <em>optional</em></p>
<p>replace the corrected column with the sum of corrected and model columns to undo continuum subtraction that may have been done by the image HI worker.</p>
</div></blockquote>
</div>
<div class="section" id="primary-beam">
<span id="self-cal-primary-beam"></span><h2><strong>primary_beam</strong><a class="headerlink" href="#primary-beam" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p><em>bool</em>, <em>optional</em></p>
<p>Use primary beam</p>
</div></blockquote>
</div>
<div class="section" id="calibrate-with">
<span id="self-cal-calibrate-with"></span><h2><strong>calibrate_with</strong><a class="headerlink" href="#calibrate-with" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p><em>{“meqtrees”, “cubical”}</em>, <em>optional</em></p>
<p>Tool to use for calibration</p>
</div></blockquote>
</div>
<div class="section" id="spwid">
<span id="self-cal-spwid"></span><h2><strong>spwid</strong><a class="headerlink" href="#spwid" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p><em>int</em>, <em>optional</em></p>
<p>Provide spectral window id</p>
</div></blockquote>
</div>
<div class="section" id="ncpu">
<span id="self-cal-ncpu"></span><h2><strong>ncpu</strong><a class="headerlink" href="#ncpu" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p><em>int</em>, <em>optional</em></p>
<p>number of cpu’s to use</p>
</div></blockquote>
</div>
<div class="section" id="img-npix">
<span id="self-cal-img-npix"></span><h2><strong>img_npix</strong><a class="headerlink" href="#img-npix" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p><em>int</em>, <em>optional</em></p>
<p>Number of pixels in output image</p>
</div></blockquote>
</div>
<div class="section" id="img-padding">
<span id="self-cal-img-padding"></span><h2><strong>img_padding</strong><a class="headerlink" href="#img-padding" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p><em>float</em>, <em>optional</em></p>
<p>Padding in WSclean</p>
</div></blockquote>
</div>
<div class="section" id="img-mgain">
<span id="self-cal-img-mgain"></span><h2><strong>img_mgain</strong><a class="headerlink" href="#img-mgain" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p><em>float</em>, <em>optional</em></p>
<p>Image CLEANing gain</p>
</div></blockquote>
</div>
<div class="section" id="img-cell">
<span id="self-cal-img-cell"></span><h2><strong>img_cell</strong><a class="headerlink" href="#img-cell" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p><em>float</em>, <em>optional</em></p>
<p>Image pixel size (arcsec)</p>
</div></blockquote>
</div>
<div class="section" id="img-weight">
<span id="self-cal-img-weight"></span><h2><strong>img_weight</strong><a class="headerlink" href="#img-weight" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p><em>{“briggs”, “uniform”, “natural”}</em>, <em>optional</em></p>
<p>Image weighting type. If Briggs, set the img robust parameter</p>
</div></blockquote>
</div>
<div class="section" id="img-robust">
<span id="self-cal-img-robust"></span><h2><strong>img_robust</strong><a class="headerlink" href="#img-robust" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p><em>float</em>, <em>optional</em></p>
<p>Briggs robust value</p>
</div></blockquote>
</div>
<div class="section" id="img-uvtaper">
<span id="self-cal-img-uvtaper"></span><h2><strong>img_uvtaper</strong><a class="headerlink" href="#img-uvtaper" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p><em>str</em>, <em>optional</em></p>
<p>Taper for imaging (arcsec)</p>
</div></blockquote>
</div>
<div class="section" id="img-niter">
<span id="self-cal-img-niter"></span><h2><strong>img_niter</strong><a class="headerlink" href="#img-niter" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p><em>int</em>, <em>optional</em></p>
<p>Number of cleaning iterations</p>
</div></blockquote>
</div>
<div class="section" id="img-cleanborder">
<span id="self-cal-img-cleanborder"></span><h2><strong>img_cleanborder</strong><a class="headerlink" href="#img-cleanborder" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p><em>float</em>, <em>optional</em></p>
<p>Clean border</p>
</div></blockquote>
</div>
<div class="section" id="img-nchans">
<span id="self-cal-img-nchans"></span><h2><strong>img_nchans</strong><a class="headerlink" href="#img-nchans" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p><em>int</em>, <em>optional</em></p>
<p>Number of channesls in output image</p>
</div></blockquote>
</div>
<div class="section" id="img-joinchannels">
<span id="self-cal-img-joinchannels"></span><h2><strong>img_joinchannels</strong><a class="headerlink" href="#img-joinchannels" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p><em>bool</em>, <em>optional</em></p>
<p>Join channels to create MFS image</p>
</div></blockquote>
</div>
<div class="section" id="img-fit-spectral-pol">
<span id="self-cal-img-fit-spectral-pol"></span><h2><strong>img_fit_spectral_pol</strong><a class="headerlink" href="#img-fit-spectral-pol" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p><em>int</em>, <em>optional</em></p>
<p>Number of spectral polynomial terms to fit to each clean component. This is equal to the order of the polynomial plus 1.</p>
</div></blockquote>
</div>
<div class="section" id="img-pol">
<span id="self-cal-img-pol"></span><h2><strong>img_pol</strong><a class="headerlink" href="#img-pol" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p><em>str</em>, <em>optional</em></p>
<p>Stokes image to create</p>
</div></blockquote>
</div>
<div class="section" id="cal-gain-amplitude-clip-low">
<span id="self-cal-cal-gain-amplitude-clip-low"></span><h2><strong>cal_gain_amplitude_clip_low</strong><a class="headerlink" href="#cal-gain-amplitude-clip-low" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p><em>float</em>, <em>optional</em></p>
<p>Lower gain amplitude clipping</p>
</div></blockquote>
</div>
<div class="section" id="cal-gain-amplitude-clip-high">
<span id="self-cal-cal-gain-amplitude-clip-high"></span><h2><strong>cal_gain_amplitude_clip_high</strong><a class="headerlink" href="#cal-gain-amplitude-clip-high" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p><em>float</em>, <em>optional</em></p>
<p>Higher gain amplitude clipping</p>
</div></blockquote>
</div>
<div class="section" id="cal-niter">
<span id="self-cal-cal-niter"></span><h2><strong>cal_niter</strong><a class="headerlink" href="#cal-niter" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p><em>int</em>, <em>optional</em></p>
<p>Number of self-calibration iterations to perform</p>
</div></blockquote>
</div>
<div class="section" id="start-at-iter">
<span id="self-cal-start-at-iter"></span><h2><strong>start_at_iter</strong><a class="headerlink" href="#start-at-iter" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p><em>int</em>, <em>optional</em></p>
<p>Start self-cal iteration loop at this start value, 1-based.</p>
</div></blockquote>
</div>
<div class="section" id="cal-time-chunk">
<span id="self-cal-cal-time-chunk"></span><h2><strong>cal_time_chunk</strong><a class="headerlink" href="#cal-time-chunk" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p><em>int</em></p>
<p>chunk in time for calibration (seconds)</p>
</div></blockquote>
</div>
<div class="section" id="aimfast">
<span id="self-cal-aimfast"></span><h2><strong>aimfast</strong><a class="headerlink" href="#aimfast" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>Quality assessment parameter</p>
<p><strong>enable</strong></p>
<blockquote>
<div><p><em>bool</em>, <em>optional</em></p>
<p>Execute this segment</p>
</div></blockquote>
<p><strong>tolerance</strong></p>
<blockquote>
<div><p><em>float</em>, <em>optional</em></p>
<p>Relative change in weighted mean of several indicators from aimfast.</p>
</div></blockquote>
<p><strong>convergence_criteria</strong></p>
<blockquote>
<div><p><em>list</em> <em>of str</em>, <em>optional</em></p>
<p>The residual statistic to check convergence against. Every criterium listed will be combined into a weighted mean. Options [“DR”,”SKEW”,”KURT”,”STDDev”,”MEAN”]. Note that when calibrate model_mode = ‘vis_only’ DR is not an option.</p>
</div></blockquote>
<p><strong>area_factor</strong></p>
<blockquote>
<div><p><em>float</em>, <em>optional</em></p>
<p>Peak flux source area multiplying factor i.e tot_area = psf-size*af</p>
</div></blockquote>
<p><strong>normality_model</strong></p>
<blockquote>
<div><p><em>{“normaltest”, “shapiro”}</em>, <em>optional</em></p>
<p>normality test model to use. Note that normaltest is the D’Agostino</p>
</div></blockquote>
<p><strong>plot</strong></p>
<blockquote>
<div><p><em>bool</em>, <em>optional</em></p>
<p>Generate html plots for comparing catalogs and residuals</p>
</div></blockquote>
</div></blockquote>
</div>
<div class="section" id="image">
<span id="self-cal-image"></span><h2><strong>image</strong><a class="headerlink" href="#image" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>Imaging parameter</p>
<p><strong>enable</strong></p>
<blockquote>
<div><p><em>bool</em>, <em>optional</em></p>
<p>Execute this segment</p>
</div></blockquote>
<p><strong>auto_mask</strong></p>
<blockquote>
<div><p><em>list</em> <em>of float</em>, <em>optional</em></p>
<p>Auto masking threshold</p>
</div></blockquote>
<p><strong>auto_threshold</strong></p>
<blockquote>
<div><p><em>list</em> <em>of float</em>, <em>optional</em></p>
<p>Auto clean threshold</p>
</div></blockquote>
<p><strong>column</strong></p>
<blockquote>
<div><p><em>list</em> <em>of str</em>, <em>optional</em></p>
<p>Column to image</p>
</div></blockquote>
<p><strong>mask_from_sky</strong></p>
<blockquote>
<div><p><em>bool</em>, <em>optional</em></p>
<p>switch on cleaning within mask from fits file</p>
</div></blockquote>
<p><strong>fits_mask</strong></p>
<blockquote>
<div><p><em>list</em> <em>of str</em>, <em>optional</em></p>
<p>filename of fits mask (in output/masking folder)</p>
</div></blockquote>
<p><strong>multi_scale</strong></p>
<blockquote>
<div><p><em>bool</em>, <em>optional</em></p>
<p>switch on multiscale cleaning</p>
</div></blockquote>
<p><strong>multi_scale_scales</strong></p>
<blockquote>
<div><p><em>list</em> <em>of int</em>, <em>optional</em></p>
<p>scales of multiscale [0,10,20,etc, etc] in pixels</p>
</div></blockquote>
<p><strong>no_update_model</strong></p>
<blockquote>
<div><p><em>bool</em>, <em>optional</em></p>
<p>do not update column MODEL_DATA after wsclean</p>
</div></blockquote>
<p><strong>minuvw_m</strong></p>
<blockquote>
<div><p><em>int</em>, <em>optional</em></p>
<p>exclude short baselines [m]</p>
</div></blockquote>
<p><strong>local_rms</strong></p>
<blockquote>
<div><p><em>bool</em>, <em>optional</em></p>
<p>switch on local rms measurement for cleaning</p>
</div></blockquote>
</div></blockquote>
</div>
<div class="section" id="sofia-mask">
<span id="self-cal-sofia-mask"></span><h2><strong>sofia_mask</strong><a class="headerlink" href="#sofia-mask" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>Run SoFiA source finder to produce a source mask and a Moment-0 map</p>
<p><strong>enable</strong></p>
<blockquote>
<div><p><em>bool</em>, <em>optional</em></p>
<p>Execute segment sofia (yes/no)?</p>
</div></blockquote>
<p><strong>threshold</strong></p>
<blockquote>
<div><p><em>float</em>, <em>optional</em></p>
<p>SoFiA source finding threshold.</p>
</div></blockquote>
<p><strong>flag</strong></p>
<blockquote>
<div><p><em>bool</em>, <em>optional</em></p>
<p>Use flag regions (yes/no)?</p>
</div></blockquote>
<p><strong>flagregion</strong></p>
<blockquote>
<div><p><em>list</em> <em>of str</em>, <em>optional</em></p>
<p>Pixel/channel range(s) to be flagged prior to source finding. Format is [[x1, x2, y1, y2, z1, z2], …].</p>
</div></blockquote>
<p><strong>inputmask</strong></p>
<blockquote>
<div><p><em>str</em>, <em>optional</em></p>
<p>input mask over which add Sofia’s</p>
</div></blockquote>
<p><strong>fornax_special</strong></p>
<blockquote>
<div><p><em>bool</em>, <em>optional</em></p>
<p>Activates masking of Fornax A using Sofia</p>
</div></blockquote>
<p><strong>fornax_thresh</strong></p>
<blockquote>
<div><p><em>list</em> <em>of float</em>, <em>optional</em></p>
<p>SoFiA source finding threshold. Default is 4.0.</p>
</div></blockquote>
<p><strong>use_sofia</strong></p>
<blockquote>
<div><p><em>bool</em>, <em>optional</em></p>
<p>use sofia for mask of Fornax A instead of Fomalont mask</p>
</div></blockquote>
<p><strong>scale_noise_window</strong></p>
<blockquote>
<div><p><em>int</em>, <em>optional</em></p>
<p>window size where to measure local rms in pixels</p>
</div></blockquote>
<p><strong>positivity</strong></p>
<blockquote>
<div><p><em>bool</em>, <em>optional</em></p>
<p>merges only positive pixesl of sources in mask</p>
</div></blockquote>
</div></blockquote>
</div>
<div class="section" id="extract-sources">
<span id="self-cal-extract-sources"></span><h2><strong>extract_sources</strong><a class="headerlink" href="#extract-sources" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>Source finding parameters</p>
<p><strong>enable</strong></p>
<blockquote>
<div><p><em>bool</em>, <em>optional</em></p>
<p>Execute this segment</p>
</div></blockquote>
<p><strong>sourcefinder</strong></p>
<blockquote>
<div><p><em>str</em>, <em>optional</em></p>
<p>choose your favorite sourcefinder pybdsm, (pybdsf), sofia</p>
</div></blockquote>
<p><strong>local_rms</strong></p>
<blockquote>
<div><p><em>bool</em>, <em>optional</em></p>
<p>Execute this segment</p>
</div></blockquote>
<p><strong>spi</strong></p>
<blockquote>
<div><p><em>bool</em>, <em>optional</em></p>
<p>Extract source spectral index</p>
</div></blockquote>
<p><strong>thresh_pix</strong></p>
<blockquote>
<div><p><em>list</em> <em>of int</em>, <em>optional</em></p>
<p>Source finder pixel threshold</p>
</div></blockquote>
<p><strong>thresh_isl</strong></p>
<blockquote>
<div><p><em>list</em> <em>of int</em>, <em>optional</em></p>
<p>Source finder island threshold</p>
</div></blockquote>
</div></blockquote>
</div>
<div class="section" id="calibrate">
<span id="self-cal-calibrate"></span><h2><strong>calibrate</strong><a class="headerlink" href="#calibrate" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>Calibration parameters</p>
<p><strong>enable</strong></p>
<blockquote>
<div><p><em>bool</em>, <em>optional</em></p>
<p>Execute this segment</p>
</div></blockquote>
<p><strong>model</strong></p>
<blockquote>
<div><p><em>list</em> <em>of str</em>, <em>optional</em></p>
<p>Model number to use [or combination e.g. ‘1+2’ to use first and second models]</p>
</div></blockquote>
<p><strong>output_data</strong></p>
<blockquote>
<div><p><em>list</em> <em>of str</em>, <em>optional</em></p>
<p>Data to output after calibration</p>
</div></blockquote>
<p><strong>gain_matrix_type</strong></p>
<blockquote>
<div><p><em>list</em> <em>of str</em>, <em>optional</em></p>
<p>Gain matrix type</p>
</div></blockquote>
<p><strong>model_mode</strong></p>
<blockquote>
<div><p><em>str</em>, <em>optional</em></p>
<p>pybdsm_vis, pybdsm_only,  vis_only are the possible options</p>
</div></blockquote>
<p><strong>shared_memory</strong></p>
<blockquote>
<div><p><em>str</em>, <em>optional</em></p>
<p>Set the amount of shared memory for cubical. Default ‘100Gb’</p>
</div></blockquote>
<p><strong>two_step</strong></p>
<blockquote>
<div><p><em>bool</em>, <em>optional</em></p>
<p>Trigger a two step calibration process where the phase only calibration is applied before continuing with amplitude + phase cal. When cubical is used this happens simultaneous and gain parameters can be used with DDsols parameters. Set DDsol_time to -1 one to avoid amplitude calibration in an itereation. The parameter DDjones should be set to false.</p>
</div></blockquote>
<p><strong>add_vis_model</strong></p>
<blockquote>
<div><p><em>bool</em>, <em>optional</em></p>
<p>Add/Use clean components from latest imaging step to/as sky model for calibation</p>
</div></blockquote>
<p><strong>Gsols_time</strong></p>
<blockquote>
<div><p><em>list</em> <em>of float</em>, <em>optional</em></p>
<p>Gsols for individual calibration steps, if not given will default to cal_Gsols</p>
</div></blockquote>
<p><strong>Gsols_channel</strong></p>
<blockquote>
<div><p><em>list</em> <em>of float</em>, <em>optional</em></p>
<p>Gsols for individual calibration steps, if not given will default to cal_Gsols</p>
</div></blockquote>
<p><strong>Bjones</strong></p>
<blockquote>
<div><p><em>bool</em>, <em>optional</em></p>
<p>Enable Bjones</p>
</div></blockquote>
<p><strong>Bsols_time</strong></p>
<blockquote>
<div><p><em>list</em> <em>of int</em>, <em>optional</em></p>
<p>Gsols for individual calibration steps, if not given will default to cal_Gsols</p>
</div></blockquote>
<p><strong>Bsols_channel</strong></p>
<blockquote>
<div><p><em>list</em> <em>of float</em>, <em>optional</em></p>
<p>Gsols for individual calibration steps, if not given will default to cal_Gsols</p>
</div></blockquote>
<p><strong>DDjones</strong></p>
<blockquote>
<div><p><em>bool</em>, <em>optional</em></p>
<p>Enable direction dependent calibration, currently experimental.</p>
</div></blockquote>
<p><strong>DDsols_time</strong></p>
<blockquote>
<div><p><em>list</em> <em>of float</em>, <em>optional</em></p>
<p>Calibration solution intervals</p>
</div></blockquote>
<p><strong>DDsols_channel</strong></p>
<blockquote>
<div><p><em>list</em> <em>of float</em>, <em>optional</em></p>
<p>Calibration solution intervals</p>
</div></blockquote>
<p><strong>weight_column</strong></p>
<blockquote>
<div><p><em>str</em>, <em>optional</em></p>
<p>Column with weights</p>
</div></blockquote>
<p><strong>madmax_flagging</strong></p>
<blockquote>
<div><p><em>bool</em>, <em>optional</em></p>
<p>Flags based on maximum of mad</p>
</div></blockquote>
<p><strong>madmax_flag_thresh</strong></p>
<blockquote>
<div><p><em>list</em> <em>of int</em>, <em>optional</em></p>
<p>Threshold for madmax flagging</p>
</div></blockquote>
<p><strong>ragavi_plot</strong></p>
<blockquote>
<div><p>Plotting dignostics plots for delay correction calibration.</p>
<p><strong>enable</strong></p>
<blockquote>
<div><p><em>bool</em>, <em>optional</em></p>
<p>Enables plotting dignostics</p>
</div></blockquote>
<p><strong>gaintype</strong></p>
<blockquote>
<div><p><em>list</em> <em>of str</em>, <em>optional</em></p>
<p>List of gain solution types</p>
</div></blockquote>
<p><strong>field</strong></p>
<blockquote>
<div><p><em>list</em> <em>of int</em>, <em>optional</em></p>
<p>Fields to plot. Specify by field id, index.</p>
</div></blockquote>
<p><strong>corr</strong></p>
<blockquote>
<div><p><em>str</em>, <em>optional</em></p>
<p>Correlation to plot. E.g. X/Y or H/V</p>
</div></blockquote>
</div></blockquote>
</div></blockquote>
</div>
<div class="section" id="restore-model">
<span id="self-cal-restore-model"></span><h2><strong>restore_model</strong><a class="headerlink" href="#restore-model" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>Restore modelled to final calibrated residual image</p>
<p><strong>enable</strong></p>
<blockquote>
<div><p><em>bool</em>, <em>optional</em></p>
<p>Execute this segment</p>
</div></blockquote>
<p><strong>model</strong></p>
<blockquote>
<div><p><em>str</em>, <em>optional</em></p>
<p>Model number to use [or combination e.g. ‘1+2’ to use first and second models]</p>
</div></blockquote>
<p><strong>clean_model</strong></p>
<blockquote>
<div><p><em>str</em>, <em>optional</em></p>
<p>Clean model number to use [or combination e.g. ‘1+2’ to use first and second models]</p>
</div></blockquote>
</div></blockquote>
</div>
<div class="section" id="flagging-summary">
<span id="self-cal-flagging-summary"></span><h2><strong>flagging_summary</strong><a class="headerlink" href="#flagging-summary" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>Output the flagging summary</p>
<p><strong>enable</strong></p>
<blockquote>
<div><p><em>bool</em>, <em>optional</em></p>
<p>Execute this segment</p>
</div></blockquote>
</div></blockquote>
</div>
<div class="section" id="transfer-apply-gains">
<span id="self-cal-transfer-apply-gains"></span><h2><strong>transfer_apply_gains</strong><a class="headerlink" href="#transfer-apply-gains" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>Interpolate gains over the high frequency resolution data</p>
<p><strong>enable</strong></p>
<blockquote>
<div><p><em>bool</em>, <em>optional</em></p>
<p>Execute this segment</p>
</div></blockquote>
<p><strong>transfer_to_label</strong></p>
<blockquote>
<div><p><em>str</em>, <em>optional</em></p>
<p>label of cross-calibrated .ms file to which to transfer and apply the selfcal gains</p>
</div></blockquote>
</div></blockquote>
</div>
<div class="section" id="transfer-model">
<span id="self-cal-transfer-model"></span><h2><strong>transfer_model</strong><a class="headerlink" href="#transfer-model" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>Transfer model from last WSclean imaging run to the MODEL_DATA column of another .MS</p>
<p><strong>enable</strong></p>
<blockquote>
<div><p><em>bool</em>, <em>optional</em></p>
<p>Execute this segment (default False)</p>
</div></blockquote>
<p><strong>transfer_to_label</strong></p>
<blockquote>
<div><p><em>str</em>, <em>optional</em></p>
<p>label of .ms file to which to transfer the model</p>
</div></blockquote>
<p><strong>model</strong></p>
<blockquote>
<div><p><em>str</em>, <em>optional</em></p>
<p>Name of the sky model file (currently the only supported format is that of WSclean component lists). When ‘auto’, the pipeline builds the file name from the input parameters of the selfcal loop. The file is assumed to be in the ‘output’ directory.</p>
</div></blockquote>
<p><strong>spectra</strong></p>
<blockquote>
<div><p><em>bool</em>, <em>optional</em></p>
<p>Model sources as non-flat spectra. The spectral coefficients and reference frequency must be present in the sky model.</p>
</div></blockquote>
<p><strong>row-chunks</strong></p>
<blockquote>
<div><p><em>int</em>, <em>optional</em></p>
<p>Number of rows of input .MS that are processed in a single chunk.</p>
</div></blockquote>
<p><strong>model-chunks</strong></p>
<blockquote>
<div><p><em>int</em>, <em>optional</em></p>
<p>Number of sky model components that are processed in a single chunk.</p>
</div></blockquote>
<p><strong>invert-uvw</strong></p>
<blockquote>
<div><p><em>bool</em>, <em>optional</em></p>
<p>Invert UVW coordinates. Useful if we want compare our visibilities against MeqTrees.</p>
</div></blockquote>
<p><strong>within</strong></p>
<blockquote>
<div><p><em>str</em>, <em>optional</em></p>
<p>Give JS9 region file. Only sources within those regions will be included.</p>
</div></blockquote>
<p><strong>points-only</strong></p>
<blockquote>
<div><p><em>bool</em>, <em>optional</em></p>
<p>Select only point-only sources. Default is False.</p>
</div></blockquote>
<p><strong>num-sources</strong></p>
<blockquote>
<div><p><em>int</em>, <em>optional</em></p>
<p>Select only N brightest sources. Default is 0</p>
</div></blockquote>
<p><strong>num-workers</strong></p>
<blockquote>
<div><p><em>int</em>, <em>optional</em></p>
<p>Explicitly set the number of worker threads. Default is None</p>
</div></blockquote>
</div></blockquote>
</div>
<div class="section" id="highfreqres-contim">
<span id="self-cal-highfreqres-contim"></span><h2><strong>highfreqres_contim</strong><a class="headerlink" href="#highfreqres-contim" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>Make final continuum image and model at higher frequency resolution, ideally using a clean mask based on the last round of continuum imaging</p>
<p><strong>enable</strong></p>
<blockquote>
<div><p><em>bool</em>, <em>optional</em></p>
<p>Execute this segment</p>
</div></blockquote>
<p><strong>chans</strong></p>
<blockquote>
<div><p><em>int</em>, <em>optional</em></p>
<p>output continuum channels</p>
</div></blockquote>
<p><strong>deconv_chans</strong></p>
<blockquote>
<div><p><em>int</em>, <em>optional</em></p>
<p>nr of channels used for deconvolution grouping together output continuum channels</p>
</div></blockquote>
<p><strong>fit_spectral_pol</strong></p>
<blockquote>
<div><p><em>int</em>, <em>optional</em></p>
<p>How many terms for the spectral polynomial fit of each clean component</p>
</div></blockquote>
<p><strong>fits_mask</strong></p>
<blockquote>
<div><p><em>str</em>, <em>optional</em></p>
<p>filename of fits mask (including folder if not input), default None</p>
</div></blockquote>
<p><strong>auto_mask</strong></p>
<blockquote>
<div><p><em>float</em>, <em>optional</em></p>
<p>Auto masking threshold, default None</p>
</div></blockquote>
<p><strong>auto_threshold</strong></p>
<blockquote>
<div><p><em>float</em>, <em>optional</em></p>
<p>Auto clean threshold, default 10</p>
</div></blockquote>
<p><strong>column</strong></p>
<blockquote>
<div><p><em>str</em>, <em>optional</em></p>
<p>Column to image</p>
</div></blockquote>
<p><strong>multi_scale</strong></p>
<blockquote>
<div><p><em>bool</em>, <em>optional</em></p>
<p>switch on multiscale cleaning</p>
</div></blockquote>
<p><strong>multi_scale_scales</strong></p>
<blockquote>
<div><p><em>list</em> <em>of int</em>, <em>optional</em></p>
<p>scales of multiscale [0,10,20,etc, etc] in pixel</p>
</div></blockquote>
<p><strong>local_rms</strong></p>
<blockquote>
<div><p><em>bool</em>, <em>optional</em></p>
<p>switch on local rms measurement for cleaning</p>
</div></blockquote>
</div></blockquote>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../image_HI/index.html" class="btn btn-neutral float-right" title="image_HI" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../masking/index.html" class="btn btn-neutral" title="masking" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, MeerKATHI team.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../../',
            VERSION:'',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../../_static/doctools.js"></script>
      <script type="text/javascript" src="../../../_static/language_data.js"></script>

  

  
  
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>