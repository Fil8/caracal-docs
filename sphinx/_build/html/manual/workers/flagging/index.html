

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>flagging &mdash; MeerKATHI  documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../../../genindex.html"/>
        <link rel="search" title="Search" href="../../../search.html"/>
    <link rel="top" title="MeerKATHI  documentation" href="../../../index.html"/>
        <link rel="up" title="Workers parameters" href="../index.html"/>
        <link rel="next" title="cross_cal" href="../cross_cal/index.html"/>
        <link rel="prev" title="prepare_data" href="../prepare_data/index.html"/> 

  
  <script src="../../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../../index.html" class="icon icon-home"> MeerKATHI
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../meerkathiREADME.html">Download &amp; Install</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">Manual</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../intro/index.html">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../configfile/index.html">Configuration file</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../products/index.html">Data products</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reduction/index.html">Data reduction</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html">Workers parameters</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../general/index.html">general</a></li>
<li class="toctree-l3"><a class="reference internal" href="../get_data/index.html">get_data</a></li>
<li class="toctree-l3"><a class="reference internal" href="../observation_config/index.html">observation_config</a></li>
<li class="toctree-l3"><a class="reference internal" href="../prepare_data/index.html">prepare_data</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">flagging</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#enable"><strong>enable</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#order"><strong>order</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#label"><strong>label</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#hires-label"><strong>hires_label</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#hires-flag"><strong>hires_flag</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#autoflag-autocorr-powerspectra"><strong>autoflag_autocorr_powerspectra</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#flag-autocorr"><strong>flag_autocorr</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#quack-flagging"><strong>quack_flagging</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#flag-shadow"><strong>flag_shadow</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#flag-spw"><strong>flag_spw</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#flag-time"><strong>flag_time</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#flag-antennas"><strong>flag_antennas</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#flag-scan"><strong>flag_scan</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#static-mask"><strong>static_mask</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#autoflag-rfi"><strong>autoflag_rfi</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#flagging-summary"><strong>flagging_summary</strong></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../cross_cal/index.html">cross_cal</a></li>
<li class="toctree-l3"><a class="reference internal" href="../inspect_data/index.html">inspect_data</a></li>
<li class="toctree-l3"><a class="reference internal" href="../split_target/index.html">split_target</a></li>
<li class="toctree-l3"><a class="reference internal" href="../masking/index.html">masking</a></li>
<li class="toctree-l3"><a class="reference internal" href="../self_cal/index.html">self_cal</a></li>
<li class="toctree-l3"><a class="reference internal" href="../image_HI/index.html">image_HI</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../tutorial/index.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../credits/index.html">Acknowledgements</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../../index.html">MeerKATHI</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../../index.html">Docs</a> &raquo;</li>
      
          <li><a href="../../index.html">Manual</a> &raquo;</li>
      
          <li><a href="../index.html">Workers parameters</a> &raquo;</li>
      
    <li>flagging</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../../_sources/manual/workers/flagging/index.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="flagging">
<span id="id1"></span><h1>flagging<a class="headerlink" href="#flagging" title="Permalink to this headline">¶</a></h1>
<div class="toctree-wrapper compound">
</div>
<p>Flagging of the data.</p>
<div class="section" id="enable">
<span id="flagging-enable"></span><h2><strong>enable</strong><a class="headerlink" href="#enable" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p><em>bool</em>, <em>optional</em></p>
<p>Execute flagging of the data.</p>
</div></blockquote>
</div>
<div class="section" id="order">
<span id="flagging-order"></span><h2><strong>order</strong><a class="headerlink" href="#order" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p><em>int</em>, <em>optional</em></p>
<p>Order in queue of workers. Generally a non-negative integer.</p>
</div></blockquote>
</div>
<div class="section" id="label">
<span id="flagging-label"></span><h2><strong>label</strong><a class="headerlink" href="#label" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p><em>str</em>, <em>optional</em></p>
<p>The label is added to the input .MS file name to define the name of the .MS file that should be flagged, &lt;input&gt;-&lt;label&gt;.ms. Default is an empty string, i.e., the original .MS is flagged.</p>
</div></blockquote>
</div>
<div class="section" id="hires-label">
<span id="flagging-hires-label"></span><h2><strong>hires_label</strong><a class="headerlink" href="#hires-label" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p><em>str</em>, <em>optional</em></p>
<p>Label for high frequency resolution data.</p>
</div></blockquote>
</div>
<div class="section" id="hires-flag">
<span id="flagging-hires-flag"></span><h2><strong>hires_flag</strong><a class="headerlink" href="#hires-flag" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p><em>bool</em>, <em>optional</em></p>
<p>Enables AOFlagger run on high frequency resolution data.</p>
</div></blockquote>
</div>
<div class="section" id="autoflag-autocorr-powerspectra">
<span id="flagging-autoflag-autocorr-powerspectra"></span><h2><strong>autoflag_autocorr_powerspectra</strong><a class="headerlink" href="#autoflag-autocorr-powerspectra" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>Flags antennas based on drifts in the scan average of the auto correlation spectra per field. This doesn’t strictly require any calibration. It is also not field structure dependent, since it is just based on the DC of the field. Compares scan to median power of scans per field per channel. Also compares antenna to median of the array per scan per field per channel. This should catch any antenna with severe temperature problems.</p>
<p><strong>enable</strong></p>
<blockquote>
<div><p><em>bool</em>, <em>optional</em></p>
<p>Enables flagging of antennas based on drifts in the scan average of the auto correlation spectra per field.</p>
</div></blockquote>
<p><strong>scan_to_scan_threshold</strong></p>
<blockquote>
<div><p><em>int</em>, <em>optional</em></p>
<p>Threshold for flagging in sigma above the rest of the scans per field per channel.</p>
</div></blockquote>
<p><strong>antenna_to_group_threshold</strong></p>
<blockquote>
<div><p><em>int</em>, <em>optional</em></p>
<p>Threshold for flagging in sigma above array median power spectra per scan per field per channel.</p>
</div></blockquote>
<p><strong>column</strong></p>
<blockquote>
<div><p><em>str</em>, <em>optional</em></p>
<p>Data column to flag.</p>
</div></blockquote>
<p><strong>fields</strong></p>
<blockquote>
<div><p><em>str</em>, <em>optional</em></p>
<p>Fields to flag. Given as ‘auto’ or comma-seperated keys (keys in gcal, bpcal, target).</p>
</div></blockquote>
<p><strong>calibrator_fields</strong></p>
<blockquote>
<div><p><em>str</em>, <em>optional</em></p>
<p>Calibrator fields. Given as ‘auto’ or comma-seperated keys (keys in gcal, bpcal).</p>
</div></blockquote>
<p><strong>threads</strong></p>
<blockquote>
<div><p><em>int</em>, <em>optional</em></p>
<p>Number of threads to use.</p>
</div></blockquote>
</div></blockquote>
</div>
<div class="section" id="flag-autocorr">
<span id="flagging-flag-autocorr"></span><h2><strong>flag_autocorr</strong><a class="headerlink" href="#flag-autocorr" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>Flag autocorrelations. Through CASA flagdata task.</p>
<p><strong>enable</strong></p>
<blockquote>
<div><p><em>bool</em>, <em>optional</em></p>
<p>Enables flagging of autocorrelations.</p>
</div></blockquote>
</div></blockquote>
</div>
<div class="section" id="quack-flagging">
<span id="flagging-quack-flagging"></span><h2><strong>quack_flagging</strong><a class="headerlink" href="#quack-flagging" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>Do quack flagging, i.e. flag the begining and/or end chunks of each scan. Again, through FLAGDATA.</p>
<p><strong>enable</strong></p>
<blockquote>
<div><p><em>bool</em>, <em>optional</em></p>
<p>Enable quack flagging.</p>
</div></blockquote>
<p><strong>quackinterval</strong></p>
<blockquote>
<div><p><em>float</em>, <em>optional</em></p>
<p>Time interval (in seconds) to flag.</p>
</div></blockquote>
<p><strong>quackmode</strong></p>
<blockquote>
<div><p><em>{“beg”, “endb”, “end”, “tail”}</em>, <em>optional</em></p>
<p>Quack flagging mode. Either ‘beg’, which flags scan begining, ‘endb’, which flags end of the scan, ‘end’, which flags everything but the first specified seconds of the scan and ‘tail’ which flags all but the last specified seconds of the scan.</p>
</div></blockquote>
</div></blockquote>
</div>
<div class="section" id="flag-shadow">
<span id="flagging-flag-shadow"></span><h2><strong>flag_shadow</strong><a class="headerlink" href="#flag-shadow" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>Flag shadowed antennas through the CASA task FLAGDATA.</p>
<p><strong>enable</strong></p>
<blockquote>
<div><p><em>bool</em>, <em>optional</em></p>
<p>Enables flagging of shadowed antennas.</p>
</div></blockquote>
<p><strong>tolerance</strong></p>
<blockquote>
<div><p><em>float</em>, <em>optional</em></p>
<p>Amounts of shadow allowed (in metres). Default is 0. A positive number allows antennas to overlap in projection. A negative number forces antennas apart in projection.</p>
</div></blockquote>
<p><strong>include_full_mk64</strong></p>
<blockquote>
<div><p><em>bool</em>, <em>optional</em></p>
<p>Consider all MeerKAT-64 antennas in the shadowing calculation even if only a subarray is used. Default is False.</p>
</div></blockquote>
</div></blockquote>
</div>
<div class="section" id="flag-spw">
<span id="flagging-flag-spw"></span><h2><strong>flag_spw</strong><a class="headerlink" href="#flag-spw" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>Flag spectral windows/channels. Of course, through FLAGDATA.</p>
<p><strong>enable</strong></p>
<blockquote>
<div><p><em>bool</em>, <em>optional</em></p>
<p>Enable flagging spectral windows/ channels.</p>
</div></blockquote>
<p><strong>channels</strong></p>
<blockquote>
<div><p><em>str</em>, <em>optional</em></p>
<p>Channels to flag. Given as “spectral window index:start channel ~ end channel”, e.g. “*:856~880MHz”. End channel not inclusive.</p>
</div></blockquote>
<p><strong>ensure_valid_selection</strong></p>
<blockquote>
<div><p><em>bool</em>, <em>optional</em></p>
<p>Check whether the channel selection returns any data. If it does not, FLAGDATA is not executed, preventing the pipeline from crashing. This check only works with the following spw formats (multiple, comma-separated selections allowed), “*:firstchan~lastchan”; “firstspw~lastspw:firstchan~lastchan”; “spw:firstchan~lastchan”; “firstchan~lastchan”. Channels are assumed to be in frequency (Hz, kHz, MHz, GHz allowed; if no units are given it assumes Hz).</p>
</div></blockquote>
</div></blockquote>
</div>
<div class="section" id="flag-time">
<span id="flagging-flag-time"></span><h2><strong>flag_time</strong><a class="headerlink" href="#flag-time" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>Flag timerange in the data using CASA FLAGDATA task.</p>
<p><strong>enable</strong></p>
<blockquote>
<div><p><em>bool</em>, <em>optional</em></p>
<p>Enabla flagging timeranges.</p>
</div></blockquote>
<p><strong>timerange</strong></p>
<blockquote>
<div><p><em>str</em>, <em>optional</em></p>
<p>Timerange to flag. Given in format ‘YYYY/MM/DD/HH:MM:SS-YYYY/MM/DD/HH:MM:SS’.</p>
</div></blockquote>
</div></blockquote>
</div>
<div class="section" id="flag-antennas">
<span id="flagging-flag-antennas"></span><h2><strong>flag_antennas</strong><a class="headerlink" href="#flag-antennas" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>Flag bad antennas. Or just the ones you have sworn a vendetta against.</p>
<p><strong>enable</strong></p>
<blockquote>
<div><p><em>bool</em>, <em>optional</em></p>
<p>Enables flagging of bad antennas.</p>
</div></blockquote>
<p><strong>antennas</strong></p>
<blockquote>
<div><p><em>str</em>, <em>optional</em></p>
<p>Antennas to flag. Follows the CASA Flagdata syntax.</p>
</div></blockquote>
<p><strong>timerange</strong></p>
<blockquote>
<div><p><em>str</em>, <em>optional</em></p>
<p>Timerange to flag. Given in format ‘YYYY/MM/DD/HH:MM:SS-YYYY/MM/DD/HH:MM:SS’.</p>
</div></blockquote>
</div></blockquote>
</div>
<div class="section" id="flag-scan">
<span id="flagging-flag-scan"></span><h2><strong>flag_scan</strong><a class="headerlink" href="#flag-scan" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>Flag bad scans. Uses CASA Flagdata task.</p>
<p><strong>enable</strong></p>
<blockquote>
<div><p><em>bool</em>, <em>optional</em></p>
<p>Enables flagging of bad scans.</p>
</div></blockquote>
<p><strong>scans</strong></p>
<blockquote>
<div><p><em>str</em>, <em>optional</em></p>
<p>Scans to flag. CASA flagdata syntax.</p>
</div></blockquote>
</div></blockquote>
</div>
<div class="section" id="static-mask">
<span id="flagging-static-mask"></span><h2><strong>static_mask</strong><a class="headerlink" href="#static-mask" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>Apply static mask to flag out known RFI, Meerkat specific.</p>
<p><strong>enable</strong></p>
<blockquote>
<div><p><em>bool</em>, <em>optional</em></p>
<p>Enables the application of static mask on the data.</p>
</div></blockquote>
<p><strong>mask</strong></p>
<blockquote>
<div><p><em>str</em>, <em>optional</em></p>
<p>The mask to apply.</p>
</div></blockquote>
<p><strong>uvrange</strong></p>
<blockquote>
<div><p><em>str</em>, <em>optional</em></p>
<p>UV range to select (CASA style range, e.g. lower~upper) for flagging. Leave blank for entire array.</p>
</div></blockquote>
</div></blockquote>
</div>
<div class="section" id="autoflag-rfi">
<span id="flagging-autoflag-rfi"></span><h2><strong>autoflag_rfi</strong><a class="headerlink" href="#autoflag-rfi" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>Flag RFI using AOFlagger software.</p>
<p><strong>enable</strong></p>
<blockquote>
<div><p><em>bool</em>, <em>optional</em></p>
<p>Enable RFI flagging with AOFlagger.</p>
</div></blockquote>
<p><strong>strategy</strong></p>
<blockquote>
<div><p><em>str</em>, <em>optional</em></p>
<p>The AOFlagger strategy file to use.</p>
</div></blockquote>
<p><strong>column</strong></p>
<blockquote>
<div><p><em>str</em>, <em>optional</em></p>
<p>Specify column to flag</p>
</div></blockquote>
<p><strong>fields</strong></p>
<blockquote>
<div><p><em>str</em>, <em>optional</em></p>
<p>comma separated list of (zero-indexed) field ids to process</p>
</div></blockquote>
<p><strong>bands</strong></p>
<blockquote>
<div><p><em>str</em>, <em>optional</em></p>
<p>comma separated list of (zero-indexed) band ids to process</p>
</div></blockquote>
</div></blockquote>
</div>
<div class="section" id="flagging-summary">
<span id="flagging-flagging-summary"></span><h2><strong>flagging_summary</strong><a class="headerlink" href="#flagging-summary" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>Write flagging summary at the end of the pre-calibration flagging. Uses CASA FLAGDATA in “summary” mode.</p>
<p><strong>enable</strong></p>
<blockquote>
<div><p><em>bool</em>, <em>optional</em></p>
<p>Enables the writing of flagging summary.</p>
</div></blockquote>
</div></blockquote>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../cross_cal/index.html" class="btn btn-neutral float-right" title="cross_cal" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../prepare_data/index.html" class="btn btn-neutral" title="prepare_data" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, MeerKATHI team.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../../',
            VERSION:'',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../../_static/doctools.js"></script>
      <script type="text/javascript" src="../../../_static/language_data.js"></script>

  

  
  
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>